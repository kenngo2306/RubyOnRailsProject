<div class="container">
  <div class="row vertical-offset-100">
    <div class="col-md-10 col-md-offset-1">
      <div class="panel panel-default">
        <div class="panel-heading">
          <div class="row-fluid user-row">

          </div>
        </div>
        <div class="panel-body">


<%= form_for @project_site_information, :html => { :class => "form-horizontal project_site_information" } do |f| %>

    <% if @project_site_information.errors.any? %>
    <div id="error_expl" class="panel panel-danger">
      <div class="panel-heading">
        <h3 class="panel-title"><%= pluralize(@project_site_information.errors.count, "error") %> prohibited this project_site_information from being saved:</h3>
      </div>
      <div class="panel-body">
        <ul>
        <% @project_site_information.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
        </ul>
      </div>
    </div>
  <% end %>

              <ul id = "progressbar">
                <li>Step 1 - General Information</li>
                <li>Step 2 - Project Site Attributes</li>
              </ul>

              <%=field_set_tag nil, class: 'fieldset_site_info' do %>

              <div class="control-group">
                <%= f.label :project_id, 'Project Name', :class => 'control-label' %>
                <div class="controls funabounds">
                  <%= f.collection_select :project_id, Project.all, :id, :project_name, {}, :class => 'form-control' %>
                </div>
                <%= error_span(@project_site_information[:project_id]) %>
              </div>

              <div class="control-group">
                <%= f.label :project_site_id, 'Project Site Name', :class => 'control-label' %>
                <div class="controls funabounds">
                  <%= f.collection_select :project_site_id, ProjectSite.all, :id, :site_name,{}, :class => 'form-control' %>
                </div>
                <%= error_span(@project_site_information[:project_site_id]) %>
              </div>


              <div class="control-group">
    <%= f.label :area_length,'Area Length', :class => 'control-label' %>
    <div class="controls areaLength">
      <%= f.text_field :area_length, :class => 'form-control' %>
    </div>
    <%= error_span(@project_site_information[:area_length]) %>
  </div>
  <div class="control-group">
    <%= f.label :area_width, 'Area Width', :class => 'control-label' %>
    <div class="controls areaWidth">
      <%= f.text_field :area_width, :class => 'form-control' %>
    </div>
    <%= error_span(@project_site_information[:area_width]) %>
  </div>
  <div class="control-group">
    <%= f.label :area_description, 'Area Description', :class => 'control-label' %>
    <div class="controls">
      <%= f.text_area :area_description, :size=> '17x7', :class => 'form-control' %>
    </div>
    <%= error_span(@project_site_information[:area_description]) %>
  </div>
                  <input type="button" name="next" class="next btn btn-default" value="Next" />
                  <br>
                  <br>
   <%end%>
              <%=field_set_tag nil, class: 'fieldset_site_info_check' do %>

  <div class="control-group">
    <span class="controls">
      <%= f.check_box(:geotech_report_in_possession, {}, 'true', 'false') %>

    </span>
    <%= f.label :geotech_report_in_possession, 'Geotech Report in Position', :class => 'control-label' %>

    <%= error_span(@project_site_information[:geotech_report_in_possession]) %>
  </div>
  <div class="control-group">
    <span class="controls">
      <%= f.check_box(:bobcat_accessible, {}, 'true', 'false') %>

    </span>
    <%= f.label :bobcat_accessible, 'Bobcat Accessible', :class => 'control-label' %>

    <%= error_span(@project_site_information[:bobcat_accessible]) %>
  </div>
  <div class="control-group">
    <span class="controls">
      <%= f.check_box(:construction_fence_required, {}, 'true', 'false') %>

    </span>
    <%= f.label :construction_fence_required, 'Construction Fence Required?',  :class => 'control-label' %>

    <%= error_span(@project_site_information[:construction_fence_required]) %>
  </div>
  <div class="control-group">
    <span class="controls">
      <%= f.check_box(:client_fence_dismantle_reinstall_required, {}, 'true', 'false') %>

    </span>
    <%= f.label :client_fence_dismantle_reinstall_required, ' Client Fence Dismantle Reinstall Required?', :class => 'control-label' %>

    <%= error_span(@project_site_information[:client_fence_dismantle_reinstall_required]) %>
  </div>
  <div class="control-group">
    <span class="controls">
      <%= f.check_box(:rock_excavation_required, {}, 'true', 'false') %>

    </span>
    <%= f.label :rock_excavation_required, ' Rock Excavation Required?', :class => 'control-label' %>

    <%= error_span(@project_site_information[:rock_excavation_required]) %>
  </div>
  <div class="control-group">
    <span class="controls">
      <%= f.check_box(:hand_dig_required, {}, 'true', 'false') %>

    </span>
    <%= f.label :hand_dig_required, 'Hand Dig Required?', :class => 'control-label' %>

    <%= error_span(@project_site_information[:hand_dig_required]) %>
  </div>
  <div class="control-group">
    <span class="controls">
      <%= f.check_box(:dirt_haul_off_required, {}, 'true', 'false') %>

    </span>
    <%= f.label :dirt_haul_off_required, 'Dirt Haul Off Required?', :class => 'control-label' %>

    <%= error_span(@project_site_information[:dirt_haul_off_required]) %>
  </div>
  <div class="control-group">
    <span class="controls">
      <%= f.check_box(:tree_vegetation_removal_required, {}, 'true', 'false') %>

    </span>
    <%= f.label :tree_vegetation_removal_required,'Tree Vegetation Removal Required?', :class => 'control-label' %>

    <%= error_span(@project_site_information[:tree_vegetation_removal_required]) %>
  </div>
  <div class="control-group">
    <span class="controls">
      <%= f.check_box(:area_is_sloped, {}, 'true', 'false') %>

    </span>
    <%= f.label :area_is_sloped, 'Area is Sloped', :class => 'control-label' %>

    <%= error_span(@project_site_information[:area_is_sloped]) %>
  </div>
  <div class="control-group">
    <span class="controls">
      <%= f.check_box(:site_survey_required, {}, 'true', 'false') %>

    </span>
    <%= f.label :site_survey_required, 'Site Survey Required?', :class => 'control-label' %>

    <%= error_span(@project_site_information[:site_survey_required]) %>
  </div>

  <div class="control-group">
    <span class="controls">
      <%= f.check_box(:surface_protection_required, {}, 'true', 'false') %>

    </span>
    <%= f.label :surface_protection_required, 'Surface Protection Required?', :class => 'control-label' %>

    <%= error_span(@project_site_information[:surface_protection_required]) %>
  </div>

  <div class="control-group">
    <span class="controls">
      <%= f.check_box(:under_ground_obstacles_yn, {}, 'true', 'false') %>

    </span>
    <%= f.label :under_ground_obstacles_yn, 'Under Ground Obstacles', :class => 'control-label' %>

    <%= error_span(@project_site_information[:under_ground_obstacles_yn]) %>
  </div>
  <div class="control-group">
    <span class="controls">
      <%= f.check_box(:structural_removal_required, {}, 'true', 'false') %>

    </span>
    <%= f.label :structural_removal_required, ' Structural Removal Required?', :class => 'control-label' %>

    <%= error_span(@project_site_information[:structural_removal_required]) %>
  </div>
  <div class="control-group">
    <span class="controls">
      <%= f.check_box(:pvt_locator_required, {}, 'true', 'false') %>

    </span>
    <%= f.label :pvt_locator_required, 'PVT Locator Required', :class => 'control-label' %>

    <%= error_span(@project_site_information[:pvt_locator_required]) %>
  </div>

                  <input type="button" name="previous" class="previous btn btn-default" value="Previous" />
                  <br>
                  <br>
<%end%>


              <!-- jQuery -->
              <script src="http://thecodeplayer.com/uploads/js/jquery-1.9.1.min.js" type="text/javascript"></script>
              <!-- jQuery easing plugin -->
              <script src="http://thecodeplayer.com/uploads/js/jquery.easing.min.js" type="text/javascript"></script>
              <script src="/vendor/assets/javascripts/snap_form.js" type="text/javascript"></script>

              <script type="text/javascript">
                  //jQuery time
                  var current_fs, next_fs, previous_fs; //fieldsets
                  var left, opacity, scale; //fieldset properties which we will animate
                  var animating; //flag to prevent quick multi-click glitches

                  $(".next").click(function(){
                      if(animating) return false;
                      animating = true;

                      current_fs = $(this).parent();
                      next_fs = $(this).parent().next();

                      //activate next step on progressbar using the index of next_fs
                      $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");

                      //show the next fieldset
                      next_fs.show();
                      //hide the current fieldset with style
                      current_fs.animate({opacity: 0}, {
                          step: function(now, mx) {
                              //as the opacity of current_fs reduces to 0 - stored in "now"
                              //1. scale current_fs down to 80%
                              scale = 1 - (1 - now) * 0.2;
                              //2. bring next_fs from the right(50%)
                              left = (now * 50)+"%";
                              //3. increase opacity of next_fs to 1 as it moves in
                              opacity = 1 - now;
                              current_fs.css({'transform': 'scale('+scale+')'});
                              next_fs.css({'left': left, 'opacity': opacity});
                          },
                          duration: 800,
                          complete: function(){
                              current_fs.hide();
                              animating = false;
                          },
                          //this comes from the custom easing plugin
                          easing: 'easeInOutBack'
                      });
                  });

                  $(".previous").click(function(){
                      if(animating) return false;
                      animating = true;

                      current_fs = $(this).parent();
                      previous_fs = $(this).parent().prev();

                      //de-activate current step on progressbar
                      $("#progressbar li").eq($("fieldset").index(current_fs)).removeClass("active");

                      //show the previous fieldset
                      previous_fs.show();
                      //hide the current fieldset with style
                      current_fs.animate({opacity: 0}, {
                          step: function(now, mx) {
                              //as the opacity of current_fs reduces to 0 - stored in "now"
                              //1. scale previous_fs from 80% to 100%
                              scale = 0.8 + (1 - now) * 0.2;
                              //2. take current_fs to the right(50%) - from 0%
                              left = ((1-now) * 50)+"%";
                              //3. increase opacity of previous_fs to 1 as it moves in
                              opacity = 1 - now;
                              current_fs.css({'left': left});
                              previous_fs.css({'transform': 'scale('+scale+')', 'opacity': opacity});
                          },
                          duration: 800,
                          complete: function(){
                              current_fs.hide();
                              animating = false;
                          },
                          //this comes from the custom easing plugin
                          easing: 'easeInOutBack'
                      });
                  });

                  $(".submit").click(function(){
                      return false;
                  });
                  /**
                   * Created by Lawrence on 3/16/2015.
                   */

              </script>



              <%= f.submit nil, :class => 'btn btn-primary' %>
  <%= link_to t('.cancel', :default => t("helpers.links.cancel")),
            project_site_informations_path, :class => 'btn btn-default' %>

<% end %>
        </div>
      </div>
    </div>
  </div>
</div>
